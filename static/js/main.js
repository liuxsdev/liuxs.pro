function r(){let e=localStorage.getItem("theme");e?e=="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches?(localStorage.theme="dark",document.documentElement.classList.add("dark")):(localStorage.theme="light",document.documentElement.classList.remove("dark"))}function l(){let e=localStorage.getItem("theme");e&&(e=="dark"?(document.documentElement.classList.remove("dark"),localStorage.theme="light"):(document.documentElement.classList.add("dark"),localStorage.theme="dark"))}function d(){let e=document.querySelectorAll("h1"),o=[...e].filter(t=>t.getBoundingClientRect().y<0);return o.length==0?e[0]:o.reverse()[0]}function a(){let e=d();if(e){let o=e.id;toclist=document.querySelectorAll("#toc li a"),toclist.forEach(t=>{t.dataset.active=!1}),toclist_ids=[...toclist].map(t=>t.href.split("/#").reverse()[0]),index=toclist_ids.indexOf(o),current=toclist[index],current.dataset.active=!0}}function i(){let e=document.querySelectorAll("sup.footnote-reference a"),o=document.querySelectorAll("div.footnote-definition");e.forEach(t=>{href=t.getAttribute("href").split("#")[1],t.parentElement.id="re:"+href}),o.forEach(t=>{let c=t.id,n=document.createElement("a");n.href="#re:"+c,n.innerHTML=" \u21A9\uFE0E",t.querySelector("p").appendChild(n)})}window.onload=function(){let e=document.querySelector("#btn-toggle"),o=document;e.onclick=l,o.addEventListener("scroll",()=>{a()}),i()};function s(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})}document.addEventListener("DOMContentLoaded",function(){r(),s()});
